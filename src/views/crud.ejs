<!-- Form thêm user -->
<form action="/post-crud" method="post">
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="email">Email</label>
      <input type="email" class="form-control" id="email" name="email" />
    </div>
    <div class="form-group col-md-6">
      <label for="password">Password</label>
      <input
        type="password"
        class="form-control"
        id="password"
        name="password"
      />
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="firstName">First Name</label>
      <input type="text" class="form-control" id="firstName" name="firstName" />
    </div>
    <div class="form-group col-md-6">
      <label for="lastName">Last Name</label>
      <input type="text" class="form-control" id="lastName" name="lastName" />
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-md-4">
      <label for="phoneNumber">Phone Number</label>
      <input
        type="text"
        class="form-control"
        id="phoneNumber"
        name="phoneNumber"
      />
    </div>
    <div class="form-group col-md-4">
      <label for="gender">Gender</label>
      <select id="gender" name="gender" class="form-control">
        <option value="0" selected>Male</option>
        <option value="1">Female</option>
      </select>
    </div>
    <div class="form-group col-md-4">
      <label for="roleId">Role</label>
      <select id="roleId" name="roleId" class="form-control">
        <option value="1" selected>Admin</option>
        <option value="2">Doctor</option>
        <option value="3">Patient</option>
      </select>
    </div>
  </div>

  <button type="submit" class="btn btn-primary">Create User</button>
</form>

<hr />

<!-- Bảng hiển thị User -->
<table class="table table-bordered mt-3">
  <thead>
    <tr>
      <th>Email</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Address</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <% if (typeof datalist !== "undefined" && datalist.length > 0) { %> <%
    datalist.forEach(user => { %>
    <tr>
      <td><%= user.email %></td>
      <td><%= user.firstName %></td>
      <td><%= user.lastName %></td>
      <td><%= user.address %></td>
      <td>
        <a href="/edit-crud?id=<%= user.id %>" class="btn btn-sm btn-warning"
          >Edit</a
        >
        <a href="/delete-crud?id=<%= user.id %>" class="btn btn-sm btn-danger"
          >Delete</a
        >
      </td>
    </tr>
    <% }) %> <% } else { %>
    <tr>
      <td colspan="5" class="text-center">No users found</td>
    </tr>
    <% } %>
  </tbody>
</table>

<hr />

<!-- Form update User -->
<div class="container mt-4">
  <div class="row">
    <form action="/put-crud" method="post" class="w-100">
      <input
        type="hidden"
        id="id"
        name="id"
        value="<%= (typeof data !== 'undefined' && data.id) ? data.id : '' %>"
      />

      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="firstName">First Name</label>
          <input
            type="text"
            class="form-control"
            id="firstName"
            name="firstName"
            value="<%= (typeof data !== 'undefined' && data.firstName) ? data.firstName : '' %>"
          />
        </div>
        <div class="form-group col-md-6">
          <label for="lastName">Last Name</label>
          <input
            type="text"
            class="form-control"
            id="lastName"
            name="lastName"
            value="<%= (typeof data !== 'undefined' && data.lastName) ? data.lastName : '' %>"
          />
        </div>
      </div>

      <div class="form-group">
        <label for="address">Address</label>
        <input
          type="text"
          class="form-control"
          id="address"
          name="address"
          value="<%= (typeof data !== 'undefined' && data.address) ? data.address : '' %>"
        />
      </div>

      <button type="submit" class="btn btn-primary">Update</button>
    </form>
  </div>
</div>
